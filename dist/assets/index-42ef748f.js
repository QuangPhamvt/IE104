import{e as a,j as e,M as d,Q as x,U as h,u as j,J as m}from"./index-bb026dbd.js";import{d as u}from"./dayjs.min-0c0d7f05.js";import{c as y}from"./cartApi-df8379da.js";const f=()=>{const{t:s}=a();return e.jsx("article",{className:"w-full px-4 py-8 h-full border-r-1 border-solid border-gray-200",children:e.jsxs("section",{className:"flex flex-col space-y-2",children:[e.jsx("h4",{className:"text-xl",children:s("HISTORY_VIEW.MANAGE_CART_ORDER")}),e.jsxs("ul",{className:"pl-4 w-full flex flex-col space-y-2 text-gray-500",children:[e.jsx("li",{children:e.jsx("p",{className:"",children:s("HISTORY_VIEW.CART_LIST")})}),e.jsx("li",{children:e.jsx("p",{children:s("HISTORY_VIEW.HAVE_ORDERED")})})]})]})})},p=d({key:"cartListSelector",get:async()=>{try{const s=await y.getCart();return{message:s.data.message,data:s.data.data}}catch(s){return{message:s.data,data:[]}}}}),g=s=>{const{id:l,status:r,price:t,create_at:c}=s,i=j(),n=o=>(o.preventDefault(),i(`/secure/${l}`));return e.jsx(e.Fragment,{children:e.jsxs("tr",{onClick:n,className:"h-16 w-full bg-gray-50 table--body-row",children:[e.jsx("td",{className:"",children:e.jsx("p",{className:"flex justify-center items-center w-full",children:l})}),e.jsx("td",{children:e.jsx("p",{className:"flex justify-center items-center w-full",children:u(c).format("HH:mm:ss  DD-MMM-YYYY")})}),e.jsx("td",{className:"content-center ",children:e.jsx("p",{className:"w-full flex justify-center items-center",children:t})}),e.jsx("td",{children:e.jsxs("p",{className:"w-full flex justify-center items-center",children:[r==="prepare"&&e.jsx("p",{style:{color:"#A9A9A9"},children:"Prepare"}),r==="processing"&&e.jsx("p",{style:{color:"#FFA33C"},children:"Processing"}),r==="deny"&&e.jsx("p",{style:{color:"#DF2E38"},children:"Deny"}),r==="ordered"&&e.jsx("p",{style:{color:"#54B435"},children:"Ordered"})]})})]})})},b=()=>{const{state:s,contents:l}=x(p);return e.jsxs(e.Fragment,{children:[s==="hasValue"&&e.jsx("div",{className:"overflow-y-scroll w-full rounded border-1 border-solid border-black",style:{maxHeight:480},children:e.jsxs("table",{className:"w-full h-28 border-0",children:[e.jsx("thead",{className:"w-full h-12 ",style:{tableLayout:"fixed"},children:e.jsxs("tr",{className:"bg-gray-200 border-b-1 border-solid border-gray-100",children:[e.jsx("th",{className:"  bg-gray-200",children:e.jsx("p",{className:"w-full border-x-1 border-solid border-gray-300 py-2",children:"ID"})}),e.jsx("th",{className:" bg-gray-200 w-1/5",children:e.jsx("p",{className:"w-full border-x-1 border-solid border-gray-300 py-2",children:"DAYS"})}),e.jsx("th",{className:" bg-gray-200 w-1/6",children:e.jsx("p",{className:"w-full border-x-1 border-solid border-gray-300 py-2",children:"PRICE"})}),e.jsx("th",{className:" bg-gray-200 w-1/6",children:e.jsx("p",{className:"w-full border-x-1 border-solid border-gray-300 py-2",children:"STATUS"})})]})}),e.jsx("tbody",{className:" hover-cursor overflow-auto w-full",children:l.data.map(r=>e.jsx(g,{id:r.id,status:r.status,price:r.price,create_at:r.create_at},r.id))})]})}),s==="loading"&&e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx(h,{color:"#FFA33C",height:100,width:100})})]})};const E=()=>{const{t:s}=a();return e.jsxs("article",{style:{height:"480px"},className:"mt-28 container mx-auto flex flex-col space-y-4",children:[e.jsxs(m,{children:[e.jsx("meta",{charSet:"urf-8"}),e.jsx("title",{children:"IE104 FRONT END | HISTORY"})]}),e.jsx("section",{className:"py-4",children:e.jsx("h2",{children:s("HISTORY_VIEW.HISTORY_VIEW")})}),e.jsxs("article",{className:"w-full grid grid-cols-4 gap-x-8",children:[e.jsx("section",{className:"col-span-1 flex flex-col justify-center items-center",children:e.jsx(f,{})}),e.jsx("section",{className:"col-span-3 flex flex-col justify-center items-center",children:e.jsx(b,{})})]})]})};export{E as default};
