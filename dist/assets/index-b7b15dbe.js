import{R as m,s as C,a as N,b as T,u as L,c as l,S as R,p as Y,t as G,G as j,j as e,T as w,F as W,n as X,d as E,e as D,P as H,f as q,g as Q,h as J,i as K,k as Z,l as ee,m as S,o as I,q as k,A as te,r as se,v as ne,w as O,x as oe,O as ae}from"./index-56934ed0.js";import{M as ce}from"./index.esm-fe9928c9.js";import{C as re}from"./index.esm-ffba8191.js";const le=()=>{const t=m(C),s=N(T),n=m(T),o=L(),a=l.useCallback(async()=>{const{data:{limit:r,page:c,location:d,slug:g}}=t;try{s(f=>({...f,status:R.LOADING}));const i=await Y.postSearchProduct({limit:r,page:c,location:d,slug:G(g)});s(f=>({...f,status:R.HAS_VALUE,message:i.data.message,data:[...i.data.data]})),o("/search")}catch(i){console.log(i)}},[o,t,s]);return console.log(n.data),{handleSearchProduct:a}},ie={useSearchProduct:le};function de(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.9 456c31.1 0 48.1-22 48.1-53h-96.3c0 31 17 53 48.2 53zM412 352.2c-15.4-20.3-45.7-32.2-45.7-123.1 0-93.3-41.2-130.8-79.6-139.8-3.6-.9-6.2-2.1-6.2-5.9v-2.9c0-13.4-11-24.7-24.4-24.6-13.4-.2-24.4 11.2-24.4 24.6v2.9c0 3.7-2.6 5-6.2 5.9-38.5 9.1-79.6 46.5-79.6 139.8 0 90.9-30.3 102.7-45.7 123.1-9.9 13.1-.5 31.8 15.9 31.8h280.1c16.3 0 25.7-18.8 15.8-31.8z"}}]})(t)}function ue(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"}}]})(t)}function he(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"}}]})(t)}const me=t=>{const{type:s="",message:n=""}=t,[o,a]=l.useState(!0),r=s===w.SUCCESS?"notification--item-success":s===w.ERROR?"notification--item-error":"notification--item-warning";return l.useEffect(()=>{setTimeout(()=>{a(!1)},3e3)},[]),e.jsx(e.Fragment,{children:o&&e.jsx("section",{style:{zIndex:1e4},className:"shadow-xl bg-white h-16 w-68 relative rounded overflow-hidden border-1 border-solid border-gray-200 wrap--notification--item",children:e.jsxs("section",{className:`p-4 ${r} flex flex-row justify-start items-center h-full space-x-4`,children:[s===w.SUCCESS&&e.jsxs(e.Fragment,{children:[e.jsx(W,{color:"#A6CF98",size:36}),e.jsx("p",{className:"text-sm font-medium",children:n})]}),s===w.ERROR&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{color:"#ff355b",size:36}),e.jsx("p",{className:"text-sm font-medium",children:n})]}),s===w.WARNING&&e.jsxs(e.Fragment,{children:[e.jsx(he,{color:"#FFC021",size:36}),e.jsx("p",{className:"text-sm font-medium",children:n})]})]})})})};const xe=()=>{const{data:t}=m(X);return console.log(t),e.jsx("article",{className:"absolute right-2 top-2 z-50 text-black flex flex-col space-y-4",children:t.length>0&&t.map((s,n)=>e.jsx(me,{type:s.type,message:s.message},n))})};function ge(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"}}]})(t)}const fe=()=>{const t=m(E);return e.jsx(e.Fragment,{children:t.state===D.HAS_VALUE&&e.jsxs("footer",{className:" grid w-screen grid-cols-4 bg-gray-800 mt-28 ",children:[e.jsxs("article",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex flex-row space-y-6 text-white",children:[e.jsx("img",{src:H.BRAND,width:70,height:70,className:"ml-0"}),e.jsx("h1",{className:"text-3xl",children:"BunShop"})]}),e.jsx("p",{className:"text-xl mt-5 text-white",children:"BunShop - Thưởng thức ẩm thực nhanh chóng - tận nhà!"})]}),e.jsxs("article",{className:"flex flex-col  px-10 py-20 space-y-2",children:[e.jsx("p",{className:"text-xl text-white",children:"Bạn cần hỗ trợ"}),e.jsx("p",{className:"text-2xl text-white",children:"086051898"}),e.jsxs("ul",{className:"flex flex-col items-start justify-center space-y-2 text-white",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Địa chỉ: "}),"138 Topaz Home, Ward Tan Phu, District 9, Ho Chi Minh City."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email: "}),"BunShopFood@gmail.com"]})]}),e.jsxs("section",{className:"flex flex-row space-x-4 ",children:[e.jsx(ge,{size:24,color:"white"}),e.jsx(q,{size:24,color:"white"}),e.jsx(re,{size:24,color:"white"}),e.jsx(Q,{size:24,color:"white"})]}),e.jsxs("section",{className:"flex flex-row space-x-4 ",children:[e.jsx(J,{size:40,color:"white"}),e.jsx(K,{size:40,color:"white"}),e.jsx(Z,{size:40,color:"white"}),e.jsx(ee,{size:40,color:"white"})]})]}),e.jsxs("article",{className:"flex flex-col space-y-4  pl-py-20",children:[e.jsx("p",{className:"text-xl  text-white",children:"Về chúng tôi"}),e.jsxs("ul",{className:"flex flex-col items-start justify-center w-4/5 space-y-2  text-white",children:[e.jsx("li",{children:"Trang chủ"}),e.jsx("li",{children:"Giới thiệu"}),e.jsx("li",{children:"Danh mục"}),e.jsx("li",{children:"Thành viên"}),e.jsx("li",{children:"Blog"})]})]}),e.jsxs("article",{className:"flex flex-col space-y-4 py-20",children:[e.jsx("p",{className:"text-xl text-white",children:"Chính sách"}),e.jsxs("ul",{className:"flex flex-col items-start justify-center space-y-2 text-white ",children:[e.jsx("li",{children:"Chính sách giao hàng"}),e.jsx("li",{children:"Chính sách thanh toán"}),e.jsx("li",{children:"Chính sách đổi trả"}),e.jsx("li",{children:"Chính sách kiểm hàng"}),e.jsx("li",{children:"Chính sách bảo mật thông tin"})]})]})]})})};let pe=new Date().getTime();const y={x:0,y:0},h={starTimestamp:pe,starPosition:y,mousePosition:y},u={starAnimationDuration:1500,minimumTimeBetweenStars:250,minimumDistanceBetweenStars:75,glowDuration:75,maximumGlowPointSpacing:10,colors:["234 88 12","154 52 18"],sizes:["1.4rem","1rem","0.6rem"],animations:["fall-1","fall-2","fall-3"]};let we=0;const je=(t,s)=>Math.floor(Math.random()*(s-t+1))+t,F=t=>t[je(0,t.length-1)],_=(t,s)=>`${t}${s}`,b=t=>_(t,"px"),ye=t=>_(t,"ms"),B=(t,s)=>{const n=s.x-t.x,o=s.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},be=(t,s)=>s-t,U=t=>document.body.appendChild(t),$=(t,s)=>setTimeout(()=>document.body.removeChild(t),s),ve=t=>{const s=document.createElement("div"),n=F(u.colors);s.className="star fa-solid fa-star",s.style.left=b(t.x),s.style.top=b(t.y),s.style.fontSize=F(u.sizes),s.style.color=`rgb(${n})`,s.style.textShadow=`0px 0px 1.5rem rgb(${n} / 0.5)`,s.style.animationName=u.animations[we++%3],s.style.starAnimationDuration=ye(u.starAnimationDuration),U(s),$(s,u.starAnimationDuration)},Ne=t=>{const s=document.createElement("div");s.className="glow-point",s.style.left=b(t.x),s.style.top=b(t.y),U(s),$(s,u.glowDuration)},Ee=t=>Math.max(Math.floor(t/u.maximumGlowPointSpacing),1),Ce=(t,s)=>{const n=B(t,s),o=Ee(n),a=(s.x-t.x)/o,r=(s.y-t.y)/o;Array.from(Array(o)).forEach((c,d)=>{const g=t.x+a*d,i=t.y+r*d;Ne({x:g,y:i})})},Le=t=>{h.starTimestamp=new Date().getTime(),h.starPosition=t},A=t=>h.mousePosition=t,De=t=>{h.mousePosition.x===0&&h.mousePosition.y===0&&(h.mousePosition=t)},v=t=>{const s={x:t.clientX,y:t.clientY};De(s);const n=new Date().getTime(),o=B(h.starPosition,s)>=u.minimumDistanceBetweenStars,a=be(h.starTimestamp,n)>u.minimumTimeBetweenStars;(o||a)&&(ve(s),Le(s)),Ce(h.mousePosition,s),A(s)};window.onmousemove=t=>v(t);window.ontouchmove=t=>v(t.touches[0]);document.body.onmouseleave=()=>A(y);const Se=()=>{const t=L();return e.jsxs("section",{className:"flex flex-row space-x-2 items-center mr-2 hover-cursor",onClick:()=>t("/dashboard"),children:[e.jsx("img",{src:H.BRAND,width:50,height:50,className:"ml-4"}),e.jsx("h1",{className:"text-2xl text-white",children:"BunShop"})]})},Ae=()=>{const{t}=S(),{handleSearchProduct:s}=ie.useSearchProduct(),{data:{slug:n}}=m(C),o=N(C),a=r=>{const c=r.target.value;o(d=>({...d,state:D.HAS_VALUE,data:{...d.data,slug:c}}))};return e.jsxs("article",{className:"bg-white px-4 py-2 w-2/5 flex flex-row justify-between items-center rounded-lg border-1 border-solid border-gray-300",children:[e.jsx("input",{value:n||"",onChange:a,placeholder:t("HEADER_LAYOUT.SEARCH_PLACEHOLDER"),className:"w-full"}),e.jsx(ue,{size:24,onClick:s,className:"hover-cursor text-orange-500"})]})},Pe=()=>e.jsx("div",{className:"p-2 shrink",children:e.jsx(de,{size:35,color:"white"})}),ze=()=>{const{t}=S(),s=m(E),[n,o]=I(k),a=L(),{logOut:r}=te.useLogOut();return e.jsx("section",{hidden:n.open===!1,style:{top:54,right:0,zIndex:1e4},className:"animate-fadeIn absolute z-50 w-40 p-2 rounded border-1 border-solid border-gray-400 bg-white",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[s.data.role===se.SELLER&&e.jsx("button",{onClick:c=>{c.preventDefault(),o({open:!1}),a("/seller")},className:"menu--btn rounded py-2 px-4 font-semibold bg-white border-b-1 border-solid border-gray-400",children:t("HEADER_LAYOUT.PROFILE")}),e.jsx("button",{onClick:c=>{c.preventDefault(),o({open:!1}),a("/history")},className:"menu--btn rounded py-2 px-4 font-semibold bg-white border-b-1 border-solid border-gray-400",children:t("HEADER_LAYOUT.HISTORY")}),e.jsx("button",{className:"menu--btn rounded py-2 px-4 font-semibold bg-white border-b-1 border-solid border-gray-400",onClick:c=>{c.stopPropagation(),o({open:!1}),c.preventDefault(),r()},children:t("HEADER_LAYOUT.LOG_OUT")})]})})},Me=()=>{const t=m(E),s=l.useRef(null),n=N(k),o=()=>{n(a=>({...a,open:!a.open}))};return l.useLayoutEffect(()=>{const a=r=>{s.current.contains(r.target)||n(c=>({...c,open:!1}))};return window.document.addEventListener("mousedown",a),()=>window.document.removeEventListener("mousedown",a)},[n]),e.jsxs("section",{className:"relative",ref:s,children:[e.jsxs("button",{onClick:o,className:"flex items-center px-3 py-2 rounded-lg bg-amber-500  border-2 border-solid border-gray-50",style:{backgroundColor:"rgb(247,107,28, 0.7)"},children:[e.jsx(ne,{size:24,color:"white",className:"mr-1"}),e.jsx("p",{className:"text-lg text-white font-bold",children:t.data.username})]}),e.jsx(ze,{})]})},Te=()=>e.jsxs("section",{className:"w-4/5 flex flex-row justify-end items-center space-x-3",children:[e.jsx(Ae,{}),e.jsx(Pe,{}),e.jsx(Me,{})]});function Re(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"}}]})(t)}const V=O({key:"openDropDownStateAtom",default:{isOpen:!1}}),Fe=O({key:"languageStateAtom",default:{language:"VN"}}),He=()=>{const{t,i18n:s}=S(),{isOpen:n}=m(V),[o,a]=I(Fe),r=c=>{s.changeLanguage(c)};return e.jsx(e.Fragment,{children:n&&e.jsxs("div",{className:"flex flex-col border-1 bg-white border-gray-400 w-32 space-y-2 rounded  px-2 py-2 items-center justify-center",children:[e.jsx("button",{onClick:c=>{c.preventDefault(),r("en"),a({language:"EN"})},style:{color:`${o.language==="EN"?"black":"gray"}`,fontWeight:`${o.language==="EN"?"700":"400"}`},className:"border-b-1 border-solid border-gray-500 w-full flex justify-center items-center pb-1 bg-white",children:e.jsx("p",{children:t("change_language.EN")})}),e.jsx("button",{onClick:c=>{c.preventDefault(),r("vn"),a({language:"VN"})},style:{color:`${o.language==="VN"?"black":"gray"}`,fontWeight:`${o.language==="VN"?"700":"400"}`},className:"border-b-1 border-solid border-gray-500 w-full flex justify-center items-center pb-1 bg-white",children:e.jsx("p",{children:t("change_language.VN")})})]})})},Ie=()=>{const t=l.useRef(null),[s,n]=l.useState(!1),[o,a]=l.useState(4),[r,c]=l.useState(4),[d,g]=l.useState(0),i=N(V);return l.useEffect(()=>{const f=p=>{document.getElementById("ChangLanguageIcon").classList.remove("change--language--icon--go--back"),n(!0),g(128),i({isOpen:!1}),a(p.clientX-136),c(p.clientY-136)},P=()=>{n(!1),document.getElementById("ChangLanguageIcon").classList.add("change--language--icon--go--back"),c(M=>M+142),a(8),g(0)},z=p=>{s&&(a(p.clientX-136),c(p.clientY-136))},x=t.current;return x.addEventListener("mousedown",f),x.addEventListener("mouseup",P),x.addEventListener("mousemove",z),x.addEventListener("mouseleave",()=>{}),()=>{x.removeEventListener("mousedown",f),x.removeEventListener("mouseup",P),x.removeEventListener("mousemove",z)}},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{id:"ChangLanguageIcon",style:{zIndex:10005,top:r,left:o},className:"fixed change--language--icon flex space-x-2 items-start justify-center",onMouseEnter:()=>i({isOpen:!0}),onMouseLeave:()=>i({isOpen:!1}),children:[e.jsx("div",{style:{padding:d},ref:t,className:"rounded-full overflow-hidden h-8 w-8",children:e.jsx(Re,{size:32})}),e.jsx(He,{})]})})},ke=()=>{oe();const t=m(E),s=l.useRef(document.documentElement.clientHeight),n=l.useRef(document.documentElement.scrollTop),o=l.useRef(document.documentElement.scrollHeight),[a,r]=l.useState(0);return l.useEffect(()=>{const c=()=>{s.current=document.documentElement.clientHeight,n.current=document.documentElement.scrollTop,o.current=document.documentElement.scrollHeight,r(n.current/(o.current-s.current)*100)};window.addEventListener("scroll",c)},[]),e.jsxs(e.Fragment,{children:[t.state===D.HAS_VALUE&&e.jsxs("header",{style:{top:0,left:0,zIndex:9999},className:"animate-fadeIn fixed z-50 flex flex-col items-center justify-center w-screen menu--bg border-b-1 border-gray-500 border-solid h-28 flex-wrap",children:[e.jsxs("section",{className:"container flex flex-row justify-between mx-auto w-screen",children:[e.jsx(Se,{}),e.jsx(Te,{})]}),e.jsx("section",{className:"h-2 w-screen top-36 absolute ",children:e.jsx("div",{className:"h-24 rounded",style:{width:`${a}%`,backgroundColor:"#4158D0",backgroundImage:"linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%)"}})})]}),e.jsx(Ie,{})]})},Oe=ke;const $e=()=>(l.useEffect(()=>{const t=o=>{v(o)},s=o=>{v(o.touches[0])},n=()=>{A(y)};window.document.body.addEventListener("mousemove",t),window.addEventListener("touchmove",s),document.body.addEventListener("mouseleave",n)},[]),e.jsxs("div",{className:"flex flex-col w-screen h-fit",children:[e.jsx(xe,{}),e.jsx(Oe,{}),e.jsxs("main",{id:"body",className:"h-screen overflow-y-auto",children:[e.jsx(ae,{}),e.jsx(fe,{})]})]}));export{Oe as HeaderLayout,$e as default};
