import{J as p,f as c,K as P,U as j,a as l,c as E,R as i,d as u,L as N,M as O,T as S,Q as f,V as U,j as e,e as g,W as A,_ as C,X as B,o as T,H as V,N as F}from"./index-616c59b6.js";const m={CHANGE_PROFILE:"CHANGE_PROFILE",DETAIL_PROFILE:"MY_PROFILE"},_=p({key:"statusBuyerViewAtom",default:m.DETAIL_PROFILE}),h=p({key:"buyerFormStateAtom",default:{username:null,address:{province:null,district:null,ward:null}}}),b=p({key:"postUpdateBuyerAtom",default:{state:c,message:null}}),v={postUpdateUser:t=>{const{username:a="",address:n={}}=t,o=j.POST_UPDATE_USER;return P.post(o,{username:a,address:n})}},D=()=>{const t=l(_);return{handleChangeStatusContentBuyerView:E.useCallback(n=>{t(n),console.log(n)},[t])}},H=()=>{const t=l(b),{data:{username:a,province:n,district:o,ward:d}}=i(u),r=i(h),L=l(u),w=N(h),{handlePushNotificationItem:x}=O.usePushNotificationItem();return{handlePostUpdateBuyer:async()=>{try{t({state:c.LOADING,message:null});const s={username:r.username||a,address:{province:r.address.province||n,district:r.address.district||o,ward:r.address.ward||d}},{data:{message:y}}=await v.postUpdateUser(s);t({state:c.HAS_VALUE,message:y}),x(S.SUCCESS,y);const I=await f();U(JSON.stringify({...I,username:s.username,province:s.address.province,district:s.address.district,ward:s.address.ward})),L(R=>({...R,data:{...R.data,username:s.username,province:s.address.province,district:s.address.district,ward:s.address.ward}})),w()}catch(s){console.log(s.data),t({state:c.HAS_ERROR,message:"SomeThing WRONG when update"}),x(S.ERROR,"Something wrong when update")}}}},M={useChangeStatusContentBuyerView:D,usePostUpdateBuyer:H},k=[{title:"MANAGE_MY_ACCOUNT",items:["MY_PROFILE","CHANGE_PROFILE"]}],G=t=>{const{t:a}=g(),{items:n=[]}=t,{handleChangeStatusContentBuyerView:o}=M.useChangeStatusContentBuyerView(),d=i(_);return e.jsx("ul",{className:"px-8 space-y-2",children:n.map(r=>e.jsx("p",{className:`${d===r?"text-orange-400":"text-gray-400"} cursor-pointer  sidebar--item`,onClick:()=>o(r),children:a(`SELLER_VIEW.SIDEBAR.${r}`)},r))})},Y=t=>{const{t:a}=g(),{items:n=[]}=t;return e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("section",{className:"flex flex-col space-y-4 mb-6",children:[e.jsx("p",{className:"text-black text-xl",children:a(`BUYER_VIEW.SIDEBAR.${o.title}`)}),e.jsx(G,{items:o.items},o.title)]},o.title))})},W=()=>e.jsx("section",{className:"w-full col-span-2 pl-4 pr-12",children:e.jsx("article",{className:"border-r-1 border-solid border-gray-300 py-4 h-full",children:e.jsx(Y,{items:k})})}),$=A(E.lazy(()=>C(()=>import("./DetailProfileManageAccountComponent-403544a2.js"),["assets/DetailProfileManageAccountComponent-403544a2.js","assets/index-616c59b6.js","assets/index-5e313272.css"])),e.jsx(B,{})),z=A(E.lazy(()=>C(()=>import("./ChangeProfileManageAccountComponent-23fe83e2.js"),["assets/ChangeProfileManageAccountComponent-23fe83e2.js","assets/index-616c59b6.js","assets/index-5e313272.css","assets/index.esm-14d56213.js"])),e.jsx(B,{})),J={[m.DETAIL_PROFILE]:()=>e.jsx($,{}),[m.CHANGE_PROFILE]:()=>e.jsx(z,{})},K=()=>{const t=i(_);return e.jsx("article",{className:"w-full col-span-5",children:J[t]()})},Q=()=>{const{data:{isLoggedIn:t,role:a}}=i(u);return e.jsx(e.Fragment,{children:t&&a===T.BUYER?e.jsxs("main",{className:"container mx-auto mt-32 grid grid-cols-7 justify-items-center",children:[e.jsxs(V,{children:[e.jsx("meta",{charSet:"urf-8"}),e.jsx("title",{children:"IE104 FRONT END | PROFILE"})]}),e.jsx(W,{}),e.jsx(K,{})]}):e.jsx(F,{to:"/"})})},Z=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{M as B,Z as i,h as u};
