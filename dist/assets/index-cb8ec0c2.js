import{G as E,c as x,j as e,e as f,R as u,ak as C,A as h,K as _,al as U,S as g,am as A,a as S,an as b,ao as p,X as T,ap as H,aq as O,ar as F,as as k,at as V,m as R,w as v,au as W,av as M,d as D,u as L,f as P,H as G,aw as w}from"./index-d69f0e7c.js";import{A as B}from"./acq_id-f7db76bb.js";import{N as K}from"./index-1ca95d50.js";import"./index.esm-557518f7.js";function j(s){return E({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]})(s)}function y(s){return E({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]})(s)}const I=({isLoading:s})=>{const t=x.useRef(null);return x.useLayoutEffect(()=>{var l,n,a,r;(l=t.current)!=null&&l.open&&!s?(n=t.current)==null||n.close():!((a=t.current)!=null&&a.open)&&s&&((r=t.current)==null||r.showModal())},[s]),e.jsx(e.Fragment,{children:e.jsx("dialog",{ref:t,className:"h-screen w-screen opacity-90 bg-gray-400 m-0 p-0",children:e.jsx("div",{className:"flex w-full min-h-full justify-center items-center",children:e.jsx(y,{size:56,className:"animate-spin",color:"black"})})})})},X=()=>{const{t:s}=f(),t=u(C),{handleChangeFlowAuthForm:l}=h.useChangeFlowAuthForm(),n=_(C),{handleChangeAuthSignInForm:a}=h.useChangeAuthSignInForm(),{handleSignInSubmitAuthForm:r}=h.useSignInSubmitAuthForm(),o=u(U);return e.jsxs("form",{className:"flex flex-col items-center w-full p-4 space-y-5",children:[e.jsx(I,{isLoading:o.state===g.LOADING}),e.jsx("label",{className:"w-3/5",children:e.jsx("input",{type:"text",name:"email",placeholder:s("AUTH_VIEW.EMAIL_ADDRESS"),value:t.data.email,onChange:a,className:"w-full px-4 py-4 border-solid rounded-md border-1",style:{borderColor:"black"}})}),e.jsx("label",{className:"w-3/5",children:e.jsx("input",{placeholder:s("AUTH_VIEW.PASSWORD"),type:"password",name:"password",value:t.data.password,onChange:a,className:"w-full px-4 py-4 border-solid rounded-md border-1",style:{borderColor:"black"}})}),e.jsx("button",{onClick:c=>{c.preventDefault(),r(),n()},className:"w-3/5 p-2 text-xl font-bold text-white bg-orange-500 btn-sign",children:s("AUTH_VIEW.SIGN_IN")}),e.jsxs("p",{className:"font-sans cursor-default",children:[s("AUTH_VIEW.DON_HAVE_ACCOUNT")," ",e.jsx("b",{className:"cursor-pointer",onClick:l,children:s("AUTH_VIEW.SIGN_UP")})]})]})},q=()=>{const{t:s}=f(),t=u(A),l=S(b),{handleChangeAuthSignUpForm:n}=h.useChangeAuthSignUpForm(),[a,r]=x.useState(""),[o,c]=x.useState("idle");return e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"w-3/5",children:e.jsx("input",{placeholder:s("AUTH_VIEW.EMAIL_ADDRESS"),type:"text",name:"email",value:t.data.email||"",onChange:n,className:"w-full px-4 py-4 border-solid rounded-md border-1",style:{borderColor:"black"}})}),e.jsx("label",{className:"w-3/5",children:e.jsx("input",{type:"password",placeholder:s("AUTH_VIEW.PASSWORD"),name:"password",value:t.data.password||"",onChange:n,className:"w-full px-4 py-4 border-solid rounded-md border-1",style:{borderColor:"black"}})}),e.jsxs("label",{className:"w-3/5",children:[e.jsx("input",{placeholder:s("AUTH_VIEW.CONFIRM_PASSWORD"),type:"password",name:"confirm_password",value:a,onChange:d=>{r(d.target.value)},onBlur:()=>{a===t.data.password&&c("hasTrue"),a!==t.data.password&&c("hasFalse")},className:"w-full px-4 py-4 border-solid rounded-md border-1",style:{borderColor:"black"}}),o==="hasTrue"&&e.jsx("p",{style:{color:"green"},children:"Passwords match"}),o==="hasFalse"&&e.jsx("p",{style:{color:"red"},children:"Passwords must match"})]}),e.jsx("button",{onClick:()=>l({step:p.TWO}),className:"w-3/5 px-4 py-2 text-xl font-bold text-white bg-orange-500 rounded btn-sign",children:s("AUTH_VIEW.NEXT")})]})},z=()=>{var N;const{t:s}=f(),t=T(H),l=u(O),n=u(F),a=u(A),r=S(b),{handleSignUpSubmitAuthForm:o}=h.useSignUpSubmitAuthForm(),{handleChangeAuthSignUpForm:c}=h.useChangeAuthSignUpForm(),{handleGetListDistrictSignUp:d}=h.useGetListDistrictSignUp(),{handleGetListWardSignUp:m}=h.useGetListWardSignUp();return console.log(a.data),x.useEffect(()=>{d()},[a.data.province]),x.useEffect(()=>{m()},[a.data.district]),e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"w-3/5",children:e.jsx("input",{type:"text",placeholder:s("AUTH_VIEW.USERNAME"),name:"username",value:a.data.username,onChange:c,className:"w-full px-4 py-4 border-solid rounded-md border-1 ",style:{borderColor:"black"}})}),e.jsx("label",{className:"w-3/5",children:e.jsxs("div",{className:"flex flex-row items-center space-x-4 ",children:[e.jsxs("select",{className:"w-full p-2 border-gray-500 border-solid rounded-md border-1",name:"province",onChange:c,children:[e.jsx("option",{children:s("AUTH_VIEW.CHOICE_PROVINCE")}),t.state==="hasValue"&&((N=t==null?void 0:t.contents)==null?void 0:N.map(i=>e.jsx("option",{value:i.name,children:i.name},i.code)))]}),t.state==="loading"&&e.jsx(j,{className:"animate-spin"})]})}),e.jsx("label",{className:"w-3/5",children:e.jsxs("div",{className:"flex flex-row items-center w-full space-x-4",children:[e.jsxs("select",{className:"w-full p-2 border-gray-500 border-solid rounded-md border-1",name:"district",onChange:c,children:[e.jsx("option",{children:s("AUTH_VIEW.CHOICE_DISTRICT")}),l.states==="hasValue"&&l.data.map(i=>e.jsx("option",{value:i.name,children:i.name},i.code))]}),l.states==="loading"&&e.jsx(j,{className:"animate-spin"})]})}),e.jsx("label",{className:"w-3/5",children:e.jsxs("div",{className:"flex flex-row items-center space-x-4",children:[e.jsxs("select",{className:"w-full p-2 border-gray-500 border-solid rounded-md border-1",name:"ward",onChange:c,children:[e.jsx("option",{children:s("AUTH_VIEW.CHOICE_WARD")}),n.state==="hasValue"&&n.data.map(i=>e.jsx("option",{value:i.name,children:i.name},i.code))]}),n.state==="loading"&&e.jsx(j,{className:"animate-spin"})]})}),e.jsxs("section",{className:"flex flex-row w-3/5 space-x-2",children:[e.jsx("p",{className:"mr-2 text-xl text-gray-500",children:"Role"}),e.jsxs("div",{className:"flex flex-row items-center justify-center",children:[e.jsx("input",{onChange:c,id:"BuyerSignUp",type:"radio",name:"role",value:"buyer",style:{borderColor:"black"}}),e.jsx("label",{htmlFor:"BuyerSignUp",className:"px-2",children:s("AUTH_VIEW.BUYER")})]}),e.jsxs("div",{className:"flex flex-row items-center justify-center",children:[e.jsx("input",{onChange:c,id:"SellerSignUp",type:"radio",name:"role",value:"seller",style:{borderColor:"black"}}),e.jsx("label",{htmlFor:"SellerSignUp",className:"px-2",children:s("AUTH_VIEW.SELLER")})]})]}),e.jsxs("section",{className:"flex flex-row justify-center w-3/5 space-x-2",children:[e.jsx("button",{onClick:i=>{i.preventDefault(),r({step:p.ONE})},className:"w-full px-4 py-1 text-lg font-bold text-gray-500 border-black border-solid rounded border-1 btn-sign",children:s("AUTH_VIEW.PREVIOUS")}),a.data.role==="seller"?e.jsx("button",{onClick:i=>{i.preventDefault(),r({step:p.THREE})},className:"w-full px-4 py-1 text-lg font-bold text-white bg-orange-500 rounded",children:s("AUTH_VIEW.NEXT")}):e.jsx("button",{onClick:o,className:"w-full px-4 py-1 text-lg font-bold text-white bg-orange-500 rounded btn-sign",children:s("AUTH_VIEW.OK")})]})]})},Y=s=>{const{acqId:t}=s,l=x.useRef(null),{open:n,handleCloseCheckAccountModal:a}=k(),{status:r,data:o,message:c}=u(V);return x.useLayoutEffect(()=>{var d,m;!n&&((d=l.current)!=null&&d.open)?l.current.close():n&&!((m=l.current)!=null&&m.open)&&l.current.showModal()},[n]),e.jsx("dialog",{ref:l,className:"absolute bg-white overflow-hidden rounded-2xl",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},onClick:d=>{const m=d.currentTarget.getBoundingClientRect();(d.clientX<m.left||d.clientX>m.right||d.clientY<m.top||d.clientX>m.bottom)&&a()},children:e.jsxs("article",{className:"w-116 h-64 px-4 flex flex-col justify-center items-center space-y-4",children:[r===g.LOADING&&e.jsx(y,{size:32,className:"animate-spin",color:"black"}),r===g.HAS_VALUE&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"w-full pl-12 flex flex-col justify-center space-y-2",children:[e.jsxs("p",{children:["Your account name:",e.jsxs("b",{children:["     ",o.accountName]})]}),e.jsxs("p",{children:["Name: ",e.jsxs("b",{children:["    ",t]})]}),e.jsxs("p",{children:["ShoreName:",e.jsxs("b",{children:["    ",o.shortName]})]}),e.jsx("img",{className:"border-1 border-solid border-black",src:o.logo,alt:"something wrong",width:124,height:48})]}),e.jsx("section",{className:"w-full px-12",children:e.jsx("button",{onClick:d=>{d.preventDefault(),a()},className:"w-full px-4 py-2 bg-orange-500",children:e.jsx("p",{className:"text-xl font-bold text-white",children:"OK"})})})]}),r===g.HAS_ERROR&&e.jsx("p",{style:{color:"red"},children:c})]})})},Q=()=>{const{t:s}=f(),t=u(A),l=S(b),{handleSignUpSubmitAuthForm:n}=h.useSignUpSubmitAuthForm(),{handleChangeAuthSignUpForm:a}=h.useChangeAuthSignUpForm(),{handleOpenCheckAccountModal:r}=h.useCheckoutAccountBank();return console.log(t.data),e.jsxs(e.Fragment,{children:[e.jsx(Y,{acqId:t.data.acqId,accountNo:t.data.accountNo}),e.jsxs("section",{className:"flex flex-col w-3/5 space-y-2 ",children:[e.jsx("label",{className:" text-xl text-gray-500",children:s("AUTH_VIEW.CHOOSE_BANK")}),e.jsxs("select",{className:"p-2 rounded-md",name:"acqId",onChange:a,children:[e.jsx("option",{children:s("AUTH_VIEW.PLEASE_CHOICE_ONE")}),B.map((o,c)=>e.jsx("option",{value:o.bin||"",children:e.jsxs("div",{children:[o.shortName," -- ",o.name]})},c))]})]}),e.jsxs("label",{className:"w-3/5",children:[e.jsx("p",{className:"text-xl text-gray-500",children:s("AUTH_VIEW.ID_BANK")}),e.jsx("input",{type:"text",name:"accountNo",onBlur:r,value:t.data.accountNo||"",onChange:a,className:"w-full px-4 py-2 border-1 border-solid rounded-md",placeholder:s("AUTH_VIEW.ENTER_YOUR_BANK"),style:{borderColor:"black"}})]}),e.jsxs("section",{className:"w-3/5 flex flex-row justify-center space-x-6",children:[e.jsx("button",{onClick:o=>{o.preventDefault(),l({step:p.TWO})},className:"px-4 py-1 text-lg text-gray-500 font-bold w-full border-1 border-solid border-black rounded",children:s("AUTH_VIEW.PREVIOUS")}),e.jsx("button",{onClick:n,className:"px-4 py-1 text-lg font-bold text-white w-full bg-orange-500 rounded",children:s("AUTH_VIEW.OK")})]})]})},J={[p.ONE]:()=>e.jsx(q,{}),[p.TWO]:()=>e.jsx(z,{}),[p.THREE]:()=>e.jsx(Q,{})},Z=()=>{const{t:s}=f(),[t]=R(b),{handleChangeFlowAuthForm:l}=h.useChangeFlowAuthForm();return e.jsxs("form",{className:"flex flex-col space-y-5 p-4 w-full items-center",children:[J[t.step](),e.jsxs("p",{className:"font-sans cursor-default",children:[s("AUTH_VIEW.ALREADY_HAVE_ACCOUNT")," ",e.jsx("b",{className:"cursor-pointer",onClick:l,children:s("AUTH_VIEW.SIGN_IN")})]})]})},ae=()=>{v();const s=u(W),t=u(M),l=u(U),n=u(D),a=L();return x.useEffect(()=>{n.state===P.HAS_VALUE&&a("/")},[n.state]),e.jsxs("main",{className:"w-screen h-screen flex flex-row",children:[e.jsx(K,{}),e.jsxs(G,{children:[e.jsx("meta",{charSet:"urf-8"}),e.jsx("title",{children:"IE104 FRONT END | LOGIN"})]}),e.jsx("article",{className:"layout--left",children:e.jsx("img",{src:"https://customafk.s3.ap-southeast-1.amazonaws.com/IE104/frontend/bg-auth.png",alt:"",className:"w-full h-full background--layout-left"})}),e.jsx("article",{className:"layout--right h-full flex justify-center items-center background--layout-right",children:e.jsxs("section",{className:"p-2 layout--right--content space-y-6 flex flex-col items-center justify-center rounded-2xl modal--auth-layout shadow-xl",style:{height:"540px",backgroundColor:"#EBE4D1"},children:[e.jsx("h2",{className:"text-5xl",children:"FoodShop"}),s===w.LOG_IN&&e.jsx(X,{}),s===w.SIGN_UP&&e.jsx(Z,{})]})}),e.jsx(I,{isLoading:t.status===g.LOADING||l.status===g.LOADING})]})};export{ae as default};
