import{a as l,a4 as d,d as u,u as m,e as t,a5 as x,a6 as h,a7 as g,a8 as A,a9 as f,aa as k,R as p,c as j,j as e,ab as S,ac as N}from"./index-2d42c52e.js";import{b as w}from"./index.esm-b41c78c5.js";const R=()=>{const a=l(d),n=l(u),o=m();return{handleCreateAccountUseToken:async r=>{try{if(!r)throw{data:{message:"Not have token"}};a({state:t.LOADING,message:null});const{data:s}=await x.postSignUpVerify({token:r});a({state:t.HAS_VALUE,message:s.message}),h(s.data.access_token),g(s.data.refresh_token);const c=A(s.data.access_token);f(JSON.stringify({...c,isLoggedIn:!0})),n({state:t.HAS_VALUE,data:{isLoggedIn:!0,id:c.id,role:c.role,username:c.username,province:c.province,district:c.district,ward:c.ward}}),o("/dashboard")}catch(s){console.error(s.data),a({state:t.HAS_ERROR,message:null})}}}},_={useCreateAccountUseToken:R},C=()=>{const[a,n]=k(),o=p(d),i=m(),{handleCreateAccountUseToken:r}=_.useCreateAccountUseToken();return console.log(a.get("token")),j.useEffect(()=>{r(a.get("token"))},[]),console.log(a.get("token")),e.jsx("article",{className:"h-screen w-screen flex flex-col items-center justify-start",children:e.jsxs("section",{className:"mt-28 w-116 h-68 shadow-xl rounded border-1 border-solid border-gray-300 p-4 flex flex-col justify-center items-center animate-bounce",children:[e.jsx("h2",{className:"text-orange-400",children:"Please wait for we checking"}),e.jsxs("div",{className:"",children:[o.state===t.HAS_VALUE&&e.jsx(S,{className:"m-4",color:"#FFA33C",size:68}),o.state===t.LOADING&&e.jsx(N,{color:"#FFA33C"}),o.state===t.HAS_ERROR&&e.jsx(w,{className:"m-4",color:"#FFA33C",size:68})]}),o.state===t.HAS_VALUE&&e.jsx("div",{className:"italic text-xl font-medium",children:"Success to accept"}),o.state===t.HAS_ERROR&&e.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center",children:[e.jsx("div",{style:{textAlign:"center"},className:"italic text-base font-normal",children:"Something wrong with token, please back to home"}),e.jsx("button",{onClick:s=>{s.preventDefault(),i("/")},className:"py-2 px-4 bg-orange-400 rounded-xl redirect--btn border-2 w-3/5 flex justify-center items-center",children:e.jsx("p",{className:"text-lg font-extrabold text-white",children:"Back to Home"})})]})]})})};export{C as default};
